(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{7570:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(7437),a=n(2265),l=n(759),i=n.n(l);function o(e){let{scheduleEntries:t,venues:n,trucks:l}=e,o=(0,a.useRef)(null),c=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!c.current||o.current)return;let e=i().map(c.current,{scrollWheelZoom:!1}).setView([35.3187,-82.4612],11);return i().tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap &copy; CARTO"}).addTo(e),o.current=e,()=>{o.current&&(o.current.remove(),o.current=null)}},[]),(0,a.useEffect)(()=>{if(!o.current)return;let e=o.current;e.eachLayer(t=>{t instanceof i().Marker&&e.removeLayer(t)});let r={};t.forEach(e=>{r[e.venueId]||(r[e.venueId]=[]),r[e.venueId].push(e)});let a=i().latLngBounds([]);Object.entries(r).forEach(t=>{let[r,o]=t,c=n.find(e=>e.id===r);if(!c)return;let d=o.map(e=>l.find(t=>t.id===e.truckId)).filter(Boolean);if(!d.length)return;let s=i().divIcon({className:"custom-marker",html:'<div style="background:linear-gradient(135deg,#4d7550,#3b5d3e);color:white;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;box-shadow:0 4px 12px rgba(77,117,80,0.4);border:3px solid white;">\uD83D\uDE9A</div>',iconSize:[40,40],iconAnchor:[20,20]}),u='<div style="min-width:200px;font-family:system-ui"><b style="color:#4d7550">'.concat(c.name,"</b><br><small>").concat(c.address,'</small><hr style="margin:8px 0">').concat(d.map(e=>"\uD83D\uDE9A <b>".concat(e.name,"</b> <small>(").concat(e.cuisineType,")</small>")).join("<br>"),'<br><a href="https://www.google.com/maps/dir/?api=1&destination=').concat(c.lat,",").concat(c.lng,'" target="_blank" style="display:block;text-align:center;background:#4d7550;color:white;padding:8px;border-radius:8px;text-decoration:none;margin-top:8px;font-size:12px">Get Directions</a></div>');i().marker([c.lat,c.lng],{icon:s}).addTo(e).bindPopup(u),a.extend([c.lat,c.lng])}),a.isValid()&&e.fitBounds(a,{padding:[50,50],maxZoom:13})},[t,n,l]),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{ref:c,className:"h-[500px] rounded-2xl shadow-lg overflow-hidden",style:{zIndex:1}}),(0,r.jsxs)("div",{className:"absolute top-4 left-4 bg-white/95 backdrop-blur-sm rounded-xl shadow-lg p-4 z-10 flex items-center gap-2 text-ridge-700 font-medium",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-ridge-600 rounded-full flex items-center justify-center text-white text-sm",children:"\uD83D\uDE9A"}),t.length," truck",1!==t.length?"s":""," today"]})]})}n(5046)},5046:function(){}}]);