(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{6252:function(e,t,n){Promise.resolve().then(n.bind(n,3849))},3849:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(7437),i=n(2265),s=n(9376),u=n(5526);function c(){let[e,t]=(0,i.useState)(""),[n,c]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[l,d]=(0,i.useState)(!1),f=(0,s.useRouter)();async function m(t){t.preventDefault(),a(""),d(!0);try{await (0,u.zB)(e,n),f.push("/admin")}catch(e){a("Invalid email or password")}finally{d(!1)}}return(0,r.jsx)("div",{className:"min-h-screen bg-stone-100 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("span",{className:"text-4xl",children:"\uD83D\uDE9A"}),(0,r.jsx)("h1",{className:"font-display text-2xl font-bold text-ridge-700 mt-4",children:"What's Rollin' Local"}),(0,r.jsx)("p",{className:"text-stone-500 mt-2",children:"Sign in to manage your truck"})]}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[o&&(0,r.jsx)("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:o}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:ring-2 focus:ring-ridge-500 focus:border-ridge-500",placeholder:"you@example.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",required:!0,value:n,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:ring-2 focus:ring-ridge-500 focus:border-ridge-500",placeholder:"••••••••"})]}),(0,r.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-ridge-600 hover:bg-ridge-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Signing in...":"Sign In"})]}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsx)("a",{href:"/",className:"text-ridge-600 hover:text-ridge-700 text-sm",children:"← Back to site"})})]})})}},5526:function(e,t,n){"use strict";n.d(t,{$K:function(){return m},Au:function(){return f},D$:function(){return b},Gu:function(){return d},IF:function(){return a},K4:function(){return l},NH:function(){return j},NZ:function(){return g},OQ:function(){return r},ZK:function(){return x},_p:function(){return p},j5:function(){return c},nY:function(){return h},ts:function(){return u},w7:function(){return s},wP:function(){return y},zB:function(){return i},zJ:function(){return w}});let r=(0,n(9066).eI)("https://bnmgkgjnkupookrttsfu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJubWdrZ2pua3Vwb29rcnR0c2Z1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMzgwNTEsImV4cCI6MjA4MDkxNDA1MX0.Jzvrb8y-sFk4919j8gYDriI9TGm7-le-2fU80k_BLUI");async function i(e,t){let{data:n,error:i}=await r.auth.signInWithPassword({email:e,password:t});if(i)throw i;return n}async function s(){let{error:e}=await r.auth.signOut();if(e)throw e}async function u(){let{data:{user:e}}=await r.auth.getUser();return e}function c(e){return"jamminjessjams@gmail.com"===e}async function o(){let{data:e,error:t}=await r.from("trucks").select("*").order("name");return t?(console.error("Error fetching trucks:",t),[]):e||[]}async function a(e){if(c(e))return o();let{data:t,error:n}=await r.from("trucks").select("*").eq("user_id",e).order("name");return n?(console.error("Error fetching trucks:",n),[]):t||[]}async function l(e,t){if(c(e)){let{data:e,error:t}=await r.from("schedule").select("*").order("date").order("start_time");return t?(console.error("Error fetching schedule:",t),[]):e||[]}if(0===t.length)return[];let{data:n,error:i}=await r.from("schedule").select("*").in("truck_id",t).order("date").order("start_time");return i?(console.error("Error fetching schedule:",i),[]):n||[]}async function d(e){let{data:t,error:n}=await r.from("trucks").insert(e).select().single();if(n)throw n;return t}async function f(e,t){let{data:n,error:i}=await r.from("trucks").update(t).eq("id",e).select().single();if(i)throw i;return n}async function m(e){let{error:t}=await r.from("trucks").delete().eq("id",e);if(t)throw t}async function h(e){let{data:t,error:n}=await r.from("venues").insert(e).select().single();if(n)throw n;return t}async function g(e,t){let{data:n,error:i}=await r.from("venues").update(t).eq("id",e).select().single();if(i)throw i;return n}async function w(e){let{error:t}=await r.from("venues").delete().eq("id",e);if(t)throw t}async function x(e){let{data:t,error:n}=await r.from("schedule").insert(e).select().single();if(n)throw n;return t}async function p(e,t){let{data:n,error:i}=await r.from("schedule").update(t).eq("id",e).select().single();if(i)throw i;return n}async function b(e){let{error:t}=await r.from("schedule").delete().eq("id",e);if(t)throw t}async function y(e,t){let{data:n,error:i}=await r.from("trucks").update({user_id:t}).eq("id",e).select().single();if(i)throw i;return n}async function j(e){let{data:t,error:n}=await r.from("trucks").update({user_id:null}).eq("id",e).select().single();if(n)throw n;return t}}},function(e){e.O(0,[658,971,117,744],function(){return e(e.s=6252)}),_N_E=e.O()}]);